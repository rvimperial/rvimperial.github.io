<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Financials - Montville Place 2 HOA</title>

  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    img {
      width: 40%;
      height: auto;
    }

    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }
    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
  </style>
</head>

<body class="bg-green-50 text-gray-800">

  <!-- HEADER -->
  <header class="bg-green-700 text-white">
    <div class="max-w-6xl mx-auto px-4 py-4 flex justify-between items-center">
      <h1 class="text-xl font-semibold">Montville Place 2 HOA</h1>

      <button id="menu-toggle" class="md:hidden text-white focus:outline-none">
        â˜°
      </button>

      <nav class="hidden md:block">
        <ul class="flex space-x-8 font-medium">
          <li><a href="../index.html" class="hover:text-green-200">Home</a></li>
          <li><a href="financials.html" class="hover:text-green-200">Financial Reports</a></li>
          <li><a href="collections.html" class="hover:text-green-200">Collections</a></li>
          <li><a href="activities.html" class="hover:text-green-200">Activities</a></li>
          <li><a href="contact.html" class="hover:text-green-200">Contact</a></li>
        </ul>
      </nav>
    </div>

    <div id="mobile-menu" class="hidden md:hidden bg-green-600">
      <ul class="flex flex-col space-y-3 px-4 py-4 font-medium">
        <li><a href="../index.html" class="block hover:text-green-200">Home</a></li>
        <li><a href="financials.html" class="block hover:text-green-200">Financial Reports</a></li>
        <li><a href="collections.html" class="block hover:text-green-200">Collections</a></li>
        <li><a href="activities.html" class="block hover:text-green-200">Activities</a></li>
        <li><a href="contact.html" class="block hover:text-green-200">Contact</a></li>
      </ul>
    </div>
  </header>

  <!-- CONTENT -->
  <div class="max-w-6xl mx-auto px-4 mt-8">

    <h1 class="text-3xl font-bold text-green-800 mb-4">Financials</h1>

    <label for="monthSelect" class="block text-gray-700 font-medium mb-2">
      Choose a month:
    </label>

    <select id="monthSelect" class="border border-gray-300 rounded px-3 py-2">
      <option value="">-- Select Month --</option>
      <option value="January">January</option>
      <option value="February">February</option>
      <option value="March">March</option>
      <option value="April">April</option>
      <option value="May">May</option>
      <option value="June">June</option>
      <option value="July">July</option>
      <option value="August">August</option>
      <option value="September">September</option>
      <option value="October">October</option>
      <option value="November">November</option>
      <option value="December">December</option>
    </select>

    <div id="tableContainer" class="mt-6"></div>

  </div>

  <!-- MODAL -->
  <div id="imageModal" class="fixed inset-0 bg-black bg-opacity-90 hidden z-50 flex flex-col">

    <!-- Controls -->
    <div class="flex justify-between items-center p-4 text-white">
      <div class="space-x-3">
        <button id="zoomIn" class="bg-white text-black px-3 py-1 rounded">+</button>
        <button id="zoomOut" class="bg-white text-black px-3 py-1 rounded">-</button>
        <button id="resetZoom" class="bg-white text-black px-3 py-1 rounded">Reset</button>
      </div>
      <button id="closeModal" class="text-3xl">&times;</button>
    </div>

    <!-- Scroll Container -->
    <div id="modalContainer"
         class="flex-1 overflow-auto no-scrollbar flex items-center justify-center">

      <img id="modalImage"
           class="transition-transform duration-200 select-none"
           style="transform: scale(1); transform-origin: top left; max-width: none;">
    </div>

  </div>

  <script>
    // MOBILE MENU
    const menuToggle = document.getElementById('menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');

    if (menuToggle) {
      menuToggle.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
      });
    }

    const monthSelect = document.getElementById("monthSelect");
    const tableContainer = document.getElementById("tableContainer");

    const modal = document.getElementById("imageModal");
    const modalImage = document.getElementById("modalImage");
    const modalContainer = document.getElementById("modalContainer");

    const closeModal = document.getElementById("closeModal");
    const zoomIn = document.getElementById("zoomIn");
    const zoomOut = document.getElementById("zoomOut");
    const resetZoom = document.getElementById("resetZoom");

    let scale = 1;

    const images = {
      January: "../images/Montille_FS_JAN.png",
      February: "../images/Montille_FS_FEB.png",
      March: "../images/Montille_FS_MAR.png",
      April: "../images/Montille_FS_APR.png",
      May: "../images/Montille_FS_MAY.png",
      June: "../images/Montille_FS_JUN.png",
      July: "../images/Montille_FS_JUL.png",
      August: "../images/Montille_FS_AUG.png",
      September: "../images/Montille_FS_SEP.png",
      October: "../images/Montille_FS_OCT.png",
      November: "../images/Montille_FS_NOV.png",
      December: "../images/Montille_FS_DEC.png"
    };

    function applyZoom() {
      modalImage.style.transform = `scale(${scale})`;
    }

    monthSelect.addEventListener("change", function () {
      const imagePath = images[this.value] || "";
      if (imagePath) {
        tableContainer.innerHTML = `
          <img src="${imagePath}"
               class="border border-green-600 rounded shadow cursor-pointer hover:scale-105 transition"
               id="previewImage">
        `;
      } else {
        tableContainer.innerHTML = "";
      }
    });

    tableContainer.addEventListener("click", function (e) {
      if (e.target.id === "previewImage") {
        modalImage.src = e.target.src;
        modal.classList.remove("hidden");
        scale = 1;
        applyZoom();
        modalContainer.scrollTop = 0;
        modalContainer.scrollLeft = 0;
      }
    });

    zoomIn.addEventListener("click", () => {
      scale += 0.2;
      applyZoom();
    });

    zoomOut.addEventListener("click", () => {
      if (scale > 0.5) {
        scale -= 0.2;
        applyZoom();
      }
    });

    resetZoom.addEventListener("click", () => {
      scale = 1;
      applyZoom();
      modalContainer.scrollTop = 0;
      modalContainer.scrollLeft = 0;
    });

    modalImage.addEventListener("wheel", function (e) {
      e.preventDefault();
      scale += e.deltaY * -0.001;
      scale = Math.min(Math.max(0.5, scale), 5);
      applyZoom();
    });

    closeModal.addEventListener("click", () => {
      modal.classList.add("hidden");
    });

    modal.addEventListener("click", function (e) {
      if (e.target === modal) {
        modal.classList.add("hidden");
      }
    });

    document.addEventListener("keydown", function (e) {
      if (e.key === "Escape") {
        modal.classList.add("hidden");
      }
    });
  </script>

</body>
</html>